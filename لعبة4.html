<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù„Ø¹Ø¨Ø© ØµÙ†Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª â€“ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Ø£Ù„ÙˆØ§Ù† ÙˆÙ†Ù…Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
        
        body {
            margin: 0;
            font-family: "Cairo", sans-serif;
            background: linear-gradient(135deg, #004d40, #00796b);
            color: #fff;
        }
        
        header {
            background: rgba(0, 77, 64, 0.7);
            padding: 1rem 2rem;
            text-align: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffd700;
            backdrop-filter: blur(10px);
        }
        
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 1rem;
        }
        
        .search-box {
            /* Ù†Ø³ØªØ¹Ù…Ù„Ù‡Ø§ ÙƒØ´Ø±ÙŠØ· Ù…Ø¹Ù„ÙˆÙ…Ø§Øª */
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .search-box input {
            width: 80%;
            max-width: 500px;
            padding: 0.8rem 1rem;
            border-radius: 12px;
            border: none;
            outline: none;
            font-size: 1rem;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        
        .resources-grid,
        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .resource-card,
        .file-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.2rem;
            text-align: center;
            backdrop-filter: blur(12px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s;
        }
        
        .resource-card:hover,
        .file-box:hover {
            transform: translateY(-5px);
        }
        
        .resource-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .resource-title,
        .file-box h3 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #ffd700;
        }
        
        .resource-type,
        .file-box p {
            font-size: 0.9rem;
            margin-bottom: 1rem;
            color: #c8e6c9;
        }
        
        .resource-btn,
        .file-box a,
        .btn {
            background: #ffd700;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
            text-decoration: none;
            color: #04251f;
            display: inline-block;
        }
        
        .resource-btn:hover,
        .file-box a:hover,
        .btn:hover {
            background: #ffeb3b;
            transform: scale(1.05);
        }
        
        .file-box .number {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ffd166;
        }
        
        .file-box i {
            font-size: 2rem;
            margin: 0.5rem 0;
            color: #10b981;
        }
        
        .back-button {
            text-align: center;
            margin: 2rem 0;
        }
        
        .back-button a {
            text-decoration: none;
            color: #fff;
            font-weight: bold;
            background: #064b40;
            padding: 0.6rem 1.2rem;
            border-radius: 10px;
            transition: 0.3s;
        }
        
        .back-button a:hover {
            background: #10b981;
        }
        /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
        
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: #fff;
            color: #333;
            padding: 2rem;
            border-radius: 16px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content h2 {
            margin-top: 0;
            color: #00796b;
        }
        
        .modal-content button {
            margin-top: 1rem;
            padding: 0.6rem 1.2rem;
            border: none;
            background: #00796b;
            color: #fff;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .modal-content button:hover {
            background: #004d40;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        /* Ø¥Ø¶Ø§ÙØ§Øª Ù„ØªÙ†Ø³ÙŠÙ‚ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© */
        
        .grid {
            display: grid;
            gap: 1rem;
        }
        
        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }
        
        .card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            padding: 1rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.4rem;
            color: #fffb;
            font-weight: 600;
        }
        
        input[type="text"],
        textarea,
        select {
            width: 100%;
            padding: 0.7rem 0.9rem;
            border-radius: 12px;
            border: none;
            outline: none;
            font-size: 1rem;
            color: #04251f;
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.05) inset;
        }
        
        textarea {
            min-height: 90px;
            resize: vertical;
        }
        
        .actions {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
        }
        /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© */
        
        .preview-wrap {
            display: flex;
            justify-content: center;
        }
        
        .plant-card {
            width: 420px;
            background: #fefefe;
            color: #04251f;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.25);
            border: 6px solid #ffd700;
        }
        
        .plant-card header {
            background: linear-gradient(135deg, #00695c, #004d40);
            color: #ffd700;
            padding: 1rem 1.2rem;
            font-size: 1.4rem;
            font-weight: 800;
            text-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
        }
        
        .plant-card .inner {
            padding: 1rem 1.2rem;
        }
        
        .badge {
            display: inline-block;
            background: #00796b;
            color: #fff;
            padding: 0.2rem 0.6rem;
            border-radius: 999px;
            font-size: 0.85rem;
        }
        
        .figure {
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e8fff7;
            border: 2px dashed #cde9df;
            height: 180px;
            border-radius: 14px;
            margin-bottom: 0.8rem;
        }
        
        .figure .emoji {
            font-size: 90px;
        }
        
        .kv {
            display: grid;
            grid-template-columns: 110px 1fr;
            gap: 0.4rem 0.8rem;
            margin-top: 0.6rem;
        }
        
        .kv .key {
            color: #00695c;
            font-weight: 700;
        }
        
        .kv .val {
            color: #06342d;
        }
        
        .note {
            margin-top: 0.8rem;
            background: #fff9e0;
            border-left: 6px solid #ffd700;
            padding: 0.6rem 0.8rem;
            border-radius: 10px;
        }
        
        footer small {
            color: #c8e6c9;
            display: block;
            text-align: center;
            margin-top: 1.5rem;
        }
    </style>
</head>

<body>
    <header>ğŸ´ Ù„Ø¹Ø¨Ø© ØµÙ†Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª â€“ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª</header>

    <div class="container">
        <div class="search-box">
            <p style="margin:0;color:#c8e6c9">Ø§Ø®ØªØ± Ù†Ø¨Ø§ØªÙƒØŒ Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§ØªØŒ Ø«Ù… Ø£Ù†Ø´Ø¦ Ø¨Ø·Ø§Ù‚ØªÙƒ ÙˆØ§Ø·Ø¨Ø¹Ù‡Ø§ Ø£Ùˆ Ø­Ù…Ù‘Ù„Ù‡Ø§ ÙƒØµÙˆØ±Ø©.</p>
        </div>

        <section class="grid grid-2">
            <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
            <div class="card">
                <h3 class="file-box h3" style="margin:0 0 0.8rem 0;color:#ffd700">Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</h3>
                <div class="grid">
                    <div>
                        <label>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨/Ù€Ø©</label>
                        <input id="studentName" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø³Ø§Ø±Ø© Ø®Ø§Ù„Ø¯" />
                    </div>
                    <div>
                        <label>Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†Ø¨Ø§Øª</label>
                        <select id="plantSelect">
              <option value="zaatar">ğŸŒ¿ Ø§Ù„Ø²Ø¹ØªØ±</option>
              <option value="ful">ğŸ«˜ Ø§Ù„ÙÙˆÙ„</option>
              <option value="maryamiyah">ğŸµ Ø§Ù„Ù…ÙŠØ±Ù…ÙŠØ©</option>
              <option value="babounaj">ğŸŒ¼ Ø§Ù„Ø¨Ø§Ø¨ÙˆÙ†Ø¬</option>
            </select>
                    </div>
                    <div>
                        <label>Ù‡Ù„ Ø§Ù„Ù†Ø¨Ø§Øª Ø²Ù‡Ø±ÙŠØŸ</label>
                        <select id="isFlowering">
              <option value="Ø²Ù‡Ø±ÙŠ">Ø²Ù‡Ø±ÙŠ</option>
              <option value="Ù„Ø§ Ø²Ù‡Ø±ÙŠ">Ù„Ø§ Ø²Ù‡Ø±ÙŠ</option>
            </select>
                    </div>
                    <div>
                        <label>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙƒØ§Ø«Ø±</label>
                        <input id="reproduction" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ø§Ù„Ø¨Ø°ÙˆØ± / Ø¨Ø§Ù„Ø¹ÙÙ‚ÙÙ„ / Ø¨Ø§Ù„Ø£Ø¨ÙˆØ§Øº" />
                    </div>
                    <div>
                        <label>Ø§Ù„Ø¨ÙŠØ¦Ø© ÙˆØ§Ù„Ù…ÙˆØ·Ù†</label>
                        <textarea id="habitat" placeholder="Ø£ÙŠÙ† ÙŠØ¹ÙŠØ´ØŸ Ù…Ø§ Ø§Ù„Ø¸Ø±ÙˆÙ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù†Ù…ÙˆØŸ"></textarea>
                    </div>
                    <div>
                        <label>Ø§Ù„ÙÙˆØ§Ø¦Ø¯ ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª</label>
                        <textarea id="benefits" placeholder="ÙÙˆØ§Ø¦Ø¯ ØºØ°Ø§Ø¦ÙŠØ©/Ø·Ø¨ÙŠØ©/Ø¨ÙŠØ¦ÙŠØ©..."></textarea>
                    </div>
                </div>
                <div class="actions" style="margin-top: 0.8rem;">
                    <button class="btn" id="fillTemplate">ØªØ¹Ø¨Ø¦Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© (Ù†Ù…ÙˆØ°Ø¬)</button>
                    <button class="btn" id="makeCard">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</button>
                    <button class="btn" id="downloadPng" disabled>ØªØ­Ù…ÙŠÙ„ PNG</button>
                    <button class="btn" id="printCard" disabled>Ø·Ø¨Ø§Ø¹Ø©</button>
                </div>
            </div>

            <!-- Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© -->
            <div class="card">
                <h3 class="file-box h3" style="margin:0 0 0.8rem 0;color:#ffd700">Ø§Ù„Ø®Ø·ÙˆØ© 2: Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</h3>
                <div class="preview-wrap">
                    <div id="cardArea" class="plant-card" aria-label="Ø¨Ø·Ø§Ù‚Ø© Ù†Ø¨Ø§Øª">
                        <header id="cardTitle">Ø¨Ø·Ø§Ù‚Ø© Ù†Ø¨Ø§Øª ğŸŒ¿</header>
                        <div class="inner">
                            <span class="badge" id="studentBadge">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨/Ù€Ø©</span>
                            <div class="figure"><span class="emoji" id="plantEmoji">ğŸŒ¿</span></div>
                            <div class="kv">
                                <div class="key">Ø§Ù„Ù†Ø¨Ø§Øª</div>
                                <div class="val" id="kvPlant">â€”</div>
                                <div class="key">Ø§Ù„ØªØµÙ†ÙŠÙ</div>
                                <div class="val" id="kvFlower">â€”</div>
                                <div class="key">Ø§Ù„ØªÙƒØ§Ø«Ø±</div>
                                <div class="val" id="kvRepro">â€”</div>
                                <div class="key">Ø§Ù„Ø¨ÙŠØ¦Ø©</div>
                                <div class="val" id="kvHabitat">â€”</div>
                                <div class="key">Ø§Ù„ÙÙˆØ§Ø¦Ø¯</div>
                                <div class="val" id="kvBenefits">â€”</div>
                            </div>
                            <div class="note"><strong>Ù‡Ù„ ØªØ¹Ù„Ù…ØŸ</strong> Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª ÙƒØ§Ø¦Ù†Ø§Øª Ø­ÙŠØ© ØªØªÙ†ÙØ³ ÙˆØªÙ†Ù…Ùˆ ÙˆØªØªÙƒØ§Ø«Ø± ğŸŒ±</div>
                        </div>
                    </div>
                </div>
                <footer><small>Ø§Ù†Ù‚Ø± "Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©" Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„.</small></footer>
            </div>
        </section>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ£ÙƒÙŠØ¯ -->
    <div id="doneModal" class="modal" role="dialog" aria-modal="true">
        <div class="modal-content">
            <h2>ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© âœ…</h2>
            <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ­Ù…ÙŠÙ„Ù‡Ø§ ÙƒØµÙˆØ±Ø© Ø£Ùˆ Ø·Ø¨Ø§Ø¹ØªÙ‡Ø§.</p>
            <button id="closeModal">Ø­Ø³Ù†Ø§Ù‹</button>
        </div>
    </div>

    <!-- html2canvas Ù„Ù„ØªØ­Ù…ÙŠÙ„ ÙƒØµÙˆØ±Ø© -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script>
        const studentName = document.getElementById('studentName');
        const plantSelect = document.getElementById('plantSelect');
        const isFlowering = document.getElementById('isFlowering');
        const reproduction = document.getElementById('reproduction');
        const habitat = document.getElementById('habitat');
        const benefits = document.getElementById('benefits');

        const cardTitle = document.getElementById('cardTitle');
        const studentBadge = document.getElementById('studentBadge');
        const plantEmoji = document.getElementById('plantEmoji');
        const kvPlant = document.getElementById('kvPlant');
        const kvFlower = document.getElementById('kvFlower');
        const kvRepro = document.getElementById('kvRepro');
        const kvHabitat = document.getElementById('kvHabitat');
        const kvBenefits = document.getElementById('kvBenefits');

        const fillTemplateBtn = document.getElementById('fillTemplate');
        const makeCardBtn = document.getElementById('makeCard');
        const downloadBtn = document.getElementById('downloadPng');
        const printBtn = document.getElementById('printCard');

        const modal = document.getElementById('doneModal');
        const closeModal = document.getElementById('closeModal');
        const cardArea = document.getElementById('cardArea');

        const PLANT_TEMPLATES = {
            zaatar: {
                name: 'Ø§Ù„Ø²Ø¹ØªØ±',
                emoji: 'ğŸŒ¿',
                flowering: 'Ø²Ù‡Ø±ÙŠ',
                repro: 'Ø¨Ø§Ù„Ø¨Ø°ÙˆØ± ÙˆØ§Ù„Ø¹ÙÙ‚ÙÙ„',
                habitat: 'ÙŠÙ†Ù…Ùˆ ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¬Ø¨Ù„ÙŠØ© Ø§Ù„Ù…Ø´Ù…Ø³Ø© ÙˆØ§Ù„ØªØ±Ø¨Ø© Ø§Ù„Ø¬Ø§ÙØ© Ù†Ø³Ø¨ÙŠÙ‹Ø§ØŒ ÙˆÙŠÙÙØ¶Ù‘Ù„ Ù…Ù†Ø§Ø®Ù‹Ø§ Ù…Ø¹ØªØ¯Ù„Ù‹Ø§.',
                benefits: 'Ù†ÙƒÙ‡Ø© ØºØ°Ø§Ø¦ÙŠØ©ØŒ ÙÙˆØ§Ø¦Ø¯ Ø·Ø¨ÙŠØ© Ù„Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙ†ÙØ³ÙŠ ÙˆØ§Ù„Ù…Ù†Ø§Ø¹Ø©.'
            },
            ful: {
                name: 'Ø§Ù„ÙÙˆÙ„',
                emoji: 'ğŸ«˜',
                flowering: 'Ø²Ù‡Ø±ÙŠ (Ø«ÙÙ†Ø§Ø¦ÙÙŠ Ø§Ù„ÙÙ„Ù‚Ø©)',
                repro: 'Ø¨Ø§Ù„Ø¨Ø°ÙˆØ±',
                habitat: 'Ø¨ÙŠØ¦Ø© Ù…Ø¹ØªØ¯Ù„Ø©ØŒ ÙŠÙØ²Ø±Ø¹ Ø¹Ø§Ø¯Ø©Ù‹ ÙÙŠ Ø§Ù„Ø±Ø¨ÙŠØ¹ ÙˆÙ„Ø§ ÙŠØ­ØªÙ…Ù„ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù„ÙŠØ© Ø£Ùˆ Ø§Ù„ØµÙ‚ÙŠØ¹ Ø§Ù„Ø´Ø¯ÙŠØ¯.',
                benefits: 'ØºØ°Ø§Ø¡ ØºÙ†ÙŠ Ø¨Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ† ÙˆØ§Ù„Ø£Ù„ÙŠØ§ÙØ› ÙŠØ«Ø±ÙŠ Ø§Ù„ØªØ±Ø¨Ø© Ø¨ØªØ«Ø¨ÙŠØª Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†.'
            },
            maryamiyah: {
                name: 'Ø§Ù„Ù…ÙŠØ±Ù…ÙŠØ©',
                emoji: 'ğŸµ',
                flowering: 'Ø²Ù‡Ø±ÙŠ',
                repro: 'Ø¨Ø§Ù„Ø¹ÙÙ‚ÙÙ„ ÙˆØ§Ù„Ø¨Ø°ÙˆØ±',
                habitat: 'ØªØ±Ø¨Ø© Ø¬ÙŠØ¯Ø© Ø§Ù„ØµØ±Ù ÙˆØ´Ù…Ø³ Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ Ù…Ù†Ø§Ø® Ù…Ø¹ØªØ¯Ù„ Ø¥Ù„Ù‰ Ø¯Ø§ÙØ¦.',
                benefits: 'ÙÙˆØ§Ø¦Ø¯ Ø¹Ø´Ø¨ÙŠØ© Ù…Ù‡Ø¯Ø¦Ø© ÙˆÙ…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ù‡Ø¶Ù… (ÙŠÙØ³ØªØ´Ø§Ø± Ø§Ù„Ù…Ø®ØªØµ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø·Ø¨ÙŠ).'
            },
            babounaj: {
                name: 'Ø§Ù„Ø¨Ø§Ø¨ÙˆÙ†Ø¬',
                emoji: 'ğŸŒ¼',
                flowering: 'Ø²Ù‡Ø±ÙŠ',
                repro: 'Ø¨Ø§Ù„Ø¨Ø°ÙˆØ±',
                habitat: 'Ø£Ù…Ø§ÙƒÙ† Ù…Ø´Ù…Ø³Ø© ÙˆØªØ±Ø¨Ø© Ø®ÙÙŠÙØ© Ø¬ÙŠØ¯Ø© Ø§Ù„ØµØ±Ù.',
                benefits: 'Ù…Ù‡Ø¯Ø¦ ÙˆÙ„Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡ ÙˆØ§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø© (ÙŠÙØ³ØªØ´Ø§Ø± Ø§Ù„Ù…Ø®ØªØµ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø·Ø¨ÙŠ).'
            }
        };

        function applyTemplate(key) {
            const t = PLANT_TEMPLATES[key];
            if (!t) return;
            isFlowering.value = (t.flowering.includes('Ù„Ø§')) ? 'Ù„Ø§ Ø²Ù‡Ø±ÙŠ' : 'Ø²Ù‡Ø±ÙŠ';
            reproduction.value = t.repro;
            habitat.value = t.habitat;
            benefits.value = t.benefits;
            updatePreview();
        }

        function updatePreview() {
            const key = plantSelect.value;
            const t = PLANT_TEMPLATES[key];
            const student = studentName.value.trim() || 'Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨/Ù€Ø©';

            cardTitle.textContent = `Ø¨Ø·Ø§Ù‚Ø© ${t ? t.name : 'Ù†Ø¨Ø§Øª'} ${t ? t.emoji : 'ğŸŒ¿'}`;
            studentBadge.textContent = student;
            plantEmoji.textContent = t ? t.emoji : 'ğŸŒ¿';

            kvPlant.textContent = t ? t.name : 'â€”';
            kvFlower.textContent = isFlowering.value || (t ? t.flowering : 'â€”');
            kvRepro.textContent = reproduction.value || (t ? t.repro : 'â€”');
            kvHabitat.textContent = habitat.value || (t ? t.habitat : 'â€”');
            kvBenefits.textContent = benefits.value || (t ? t.benefits : 'â€”');
        }

        function makeCard() {
            updatePreview();
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
            downloadBtn.disabled = false;
            printBtn.disabled = false;
            modal.style.display = 'flex';
        }

        function downloadPNG() {
            html2canvas(cardArea, {
                scale: 2
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'Ø¨Ø·Ø§Ù‚Ø©-Ù†Ø¨Ø§Øª.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }

        function printCard() {
            const w = window.open('', 'PRINT', 'height=650,width=480');
            if (!w) return;
            const css = `
        <style>
          @page { size: A4; margin: 20mm; }
          body { font-family: 'Cairo', sans-serif; display:flex; justify-content:center; }
        </style>
      `;
            w.document.write(`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="utf-8">${css}</head><body>${cardArea.outerHTML}</body></html>`);
            w.document.close();
            w.focus();
            w.print();
            w.close();
        }

        // Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        plantSelect.addEventListener('change', e => applyTemplate(e.target.value));
        [studentName, isFlowering, reproduction, habitat, benefits].forEach(el => el.addEventListener('input', updatePreview));

        fillTemplateBtn.addEventListener('click', () => applyTemplate(plantSelect.value));
        makeCardBtn.addEventListener('click', makeCard);
        downloadBtn.addEventListener('click', downloadPNG);
        printBtn.addEventListener('click', printCard);

        closeModal.addEventListener('click', () => modal.style.display = 'none');
        modal.addEventListener('click', (e) => {
            if (e.target === modal) modal.style.display = 'none';
        });

        // Ù…Ø¹Ø§ÙŠÙ†Ø© Ø£ÙˆÙ„ÙŠØ©
        applyTemplate('zaatar');
    </script>
    <!-- Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ -->
    <div class="back-button">
        <a href="Index.html"><i class="fas fa-arrow-left"></i> Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    </div>
</body>

</html>